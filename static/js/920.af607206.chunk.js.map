{"version":3,"file":"static/js/920.af607206.chunk.js","mappings":"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","sources":["pages/Admin/Userinfo/userinfo.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Box,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Button,\r\n  useMediaQuery,\r\n  CircularProgress,\r\n  Tooltip,\r\n  Modal,\r\n  Fade,\r\n  Backdrop,\r\n} from \"@mui/material\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport BG from \"../../../Assests/BG2.jpg\";\r\nimport SideBar from \"../../../components/AdminSideBar\";\r\nimport NavBar from \"../../../components/AdminNavBar\";\r\n\r\nfunction Userinfo() {\r\n  const [listofUsers, setlistofUsers] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [deleteLoading, setDeleteLoading] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/user\");\r\n        setlistofUsers(response.data);\r\n      } catch (err) {\r\n        setError(\"Failed to load users\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleDelete = async (userId, userEmail) => {\r\n    const confirmDelete = window.confirm(\r\n      `Are you sure you want to delete user: ${userEmail}?`\r\n    );\r\n    if (!confirmDelete) return;\r\n    setDeleteLoading((prev) => ({ ...prev, [userId]: true }));\r\n    try {\r\n      await axios.delete(`http://localhost:5000/user/${userId}`);\r\n      setlistofUsers((prev) => prev.filter((u) => u._id !== userId));\r\n    } catch (err) {\r\n      if (err.response && err.response.data && err.response.data.message) {\r\n        alert(\"Error deleting user: \" + err.response.data.message);\r\n      } else {\r\n        alert(\"Error deleting user\");\r\n      }\r\n    } finally {\r\n      setDeleteLoading((prev) => ({ ...prev, [userId]: false }));\r\n    }\r\n  };\r\n\r\n  // Filtered user list\r\n  const filteredUsers = listofUsers.filter((user) => {\r\n    const searchStr = search.toLowerCase();\r\n    return (\r\n      searchStr === \"\" ||\r\n      user.firstName.toLowerCase().includes(searchStr) ||\r\n      user.lastName.toLowerCase().includes(searchStr)\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Box\r\n          sx={{\r\n            minHeight: \"100vh\",\r\n            minWidth: \"100vw\",\r\n            m: 0,\r\n            p: 0,\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            backgroundImage: `url(${BG})`,\r\n            backgroundSize: \"cover\",\r\n            backgroundPosition: \"center\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n      {/* Sidebar */}\r\n      <SideBar />\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n              sx={{\r\n                flex: 1,\r\n                minHeight: \"100vh\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"stretch\",\r\n                px: { xs: 1, sm: 6 },\r\n                py: 4,\r\n              }}\r\n            >\r\n        {/* Navbar */}\r\n        <NavBar />\r\n\r\n        {/* Content */}\r\n        <Box\r\n          sx={{\r\n            flex: 1,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"flex-start\",\r\n            px: { xs: 1, sm: 6 },\r\n            py: 6,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              width: \"100%\",\r\n              maxWidth: \"100%\",\r\n              bgcolor: \"rgba(255,255,255,0.8)\",\r\n              borderRadius: 5,\r\n              boxShadow: 10,\r\n              p: { xs: 2, sm: 4 },\r\n              overflowX: \"auto\",\r\n            }}\r\n          >\r\n            <Typography variant=\"h4\" fontWeight=\"bold\" mb={3} textAlign=\"center\">\r\n              Users\r\n            </Typography>\r\n            <Box\r\n              sx={{\r\n                mb: 2,\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n              }}\r\n            >\r\n              <TextField\r\n                placeholder=\"Search User\"\r\n                size=\"small\"\r\n                sx={{\r\n                  width: { xs: \"100%\", sm: \"240px\" },\r\n                  borderRadius: \"12px\",\r\n                  background: \"#f5f8ff\",\r\n                  \"& .MuiOutlinedInput-root\": {\r\n                    borderRadius: \"12px\",\r\n                  },\r\n                }}\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            </Box>\r\n            {loading ? (\r\n              <Box sx={{ display: \"flex\", justifyContent: \"center\", py: 4 }}>\r\n                <CircularProgress />\r\n              </Box>\r\n            ) : error ? (\r\n              <Typography color=\"error\">{error}</Typography>\r\n            ) : (\r\n              <TableContainer\r\n                component={Paper}\r\n                elevation={0}\r\n                sx={{\r\n                  borderRadius: 4,\r\n                  boxShadow: 5,\r\n                  background: \"rgba(245,248,255,0.90)\",\r\n                  mb: 2,\r\n                  maxHeight: { xs: 400, md: 500 },\r\n                  overflowY: \"auto\",\r\n                }}\r\n              >\r\n                <Table stickyHeader>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell sx={headerCellStyle}>No</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Name</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Email</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Phone</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Height</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Weight</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Request</TableCell>\r\n                      <TableCell sx={headerCellStyle}>Action</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {filteredUsers.length === 0 ? (\r\n                      <TableRow>\r\n                        <TableCell colSpan={8} align=\"center\">\r\n                          No users found.\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ) : (\r\n                      filteredUsers.map((user, index) => (\r\n                        <TableRow key={user._id} hover>\r\n                          <TableCell>{index + 1}</TableCell>\r\n                          <TableCell>\r\n                            {user.firstName} {user.lastName}\r\n                          </TableCell>\r\n                          <TableCell>{user.email}</TableCell>\r\n                          <TableCell>{user.phone}</TableCell>\r\n                          <TableCell>{user.height}</TableCell>\r\n                          <TableCell>{user.weight}</TableCell>\r\n                          <TableCell>\r\n                            {user.deleteRequest ? (\r\n                              <Typography color=\"error\" fontWeight=\"bold\">\r\n                                Requested to Delete\r\n                              </Typography>\r\n                            ) : (\r\n                              \"-\"\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Button\r\n                              size=\"small\"\r\n                              variant=\"outlined\"\r\n                              color=\"success\"\r\n                              onClick={() => window.open(`/payment-history?userId=${user._id}`, '_blank')}\r\n                              sx={{ mr: 1 }}\r\n                            >\r\n                              View Payment History\r\n                            </Button>\r\n                            <Tooltip title=\"Delete User\">\r\n                              <span>\r\n                                <IconButton\r\n                                  color=\"error\"\r\n                                  onClick={() => handleDelete(user._id, user.email)}\r\n                                  disabled={!!deleteLoading[user._id]}\r\n                                  sx={{\r\n                                    backgroundColor: \"rgba(255,0,0,0.08)\",\r\n                                    borderRadius: 2,\r\n                                    \"&:hover\": {\r\n                                      backgroundColor: \"rgba(255,0,0,0.18)\",\r\n                                    },\r\n                                  }}\r\n                                >\r\n                                  {deleteLoading[user._id] ? (\r\n                                    <CircularProgress size={22} color=\"error\" />\r\n                                  ) : (\r\n                                    <DeleteIcon />\r\n                                  )}\r\n                                </IconButton>\r\n                              </span>\r\n                            </Tooltip>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\n// Custom header cell style for table\r\nconst headerCellStyle = {\r\n  background: \"linear-gradient(90deg, #224562 0%, #2e5c7a 100%)\",\r\n  color: \"#fff\",\r\n  fontWeight: \"bold\",\r\n  fontSize: 17,\r\n  borderBottom: \"2px solid #e3e8ee\",\r\n};\r\n\r\nexport default Userinfo;\r\n"],"names":["headerCellStyle","background","color","fontWeight","fontSize","borderBottom","listofUsers","setlistofUsers","useState","search","setSearch","loading","setLoading","deleteLoading","setDeleteLoading","error","setError","theme","useTheme","useMediaQuery","breakpoints","down","useEffect","async","response","axios","get","data","err","fetchUsers","filteredUsers","filter","user","searchStr","toLowerCase","firstName","includes","lastName","_jsxs","Box","sx","minHeight","minWidth","m","p","display","flexDirection","backgroundImage","BG","backgroundSize","backgroundPosition","backgroundRepeat","overflow","children","_jsx","SideBar","flex","alignItems","px","xs","sm","py","NavBar","justifyContent","width","maxWidth","bgcolor","borderRadius","boxShadow","overflowX","Typography","variant","mb","textAlign","TextField","placeholder","size","value","onChange","e","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","CircularProgress","TableContainer","component","Paper","elevation","maxHeight","md","overflowY","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","length","colSpan","align","map","index","hover","email","phone","height","weight","deleteRequest","Button","onClick","window","open","_id","mr","Tooltip","title","IconButton","userId","userEmail","confirm","prev","delete","u","message","alert","handleDelete","disabled","backgroundColor","DeleteIcon"],"sourceRoot":""}