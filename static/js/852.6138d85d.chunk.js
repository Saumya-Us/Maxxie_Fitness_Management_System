"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[852],{852:(e,o,r)=>{r.r(o),r.d(o,{default:()=>S});var t=r(5043),a=r(5442),n=r(7353),i=r(5865),s=r(1906),l=r(7392),c=r(4109),d=r(1596),x=r(5795),h=r(3287),g=r(7332),b=r(3438),m=r(5748),f=r(6240),u=r(6462),p=r(6213),j=r(4420),A=r(262),y=r(8626),v=r(579);const k=[{text:"Home",icon:(0,v.jsx)(m.In,{icon:"codicon:home",fontSize:28}),route:"/home",color:"primary"},{text:"Session",icon:(0,v.jsx)(m.In,{icon:"codicon:edit-session",fontSize:28}),route:"/session-home",color:"primary"},{text:"Store",icon:(0,v.jsx)(m.In,{icon:"mdi:cart",fontSize:28}),route:"/user-store",color:"primary"},{text:"Workout Plans",icon:(0,v.jsx)(m.In,{icon:"mdi:cart",fontSize:28}),route:"/workout-plans-user",color:"primary"},{text:"Diet Plan",icon:(0,v.jsx)(m.In,{icon:"uis:schedule",fontSize:28}),route:"/diet-plan-user",color:"warning"},{text:"Membership Plan",icon:(0,v.jsx)(m.In,{icon:"codicon:edit-session",fontSize:28}),route:"/membership-plans-user",color:"primary"}],S=()=>{const[e,o]=(0,t.useState)(null),[r,m]=(0,t.useState)(!1),[S,w]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:"",weight:""}),[C,N]=(0,t.useState)(null),[W,I]=(0,t.useState)(!1),[P,R]=(0,t.useState)(!1),z=(0,u.Zp)(),E=(0,f.A)(),H=(0,a.A)(E.breakpoints.down("sm"));(0,t.useEffect)((()=>{const e=localStorage.getItem("accessToken");if(e)try{const r=(0,j.s)(e).id;N(r),p.A.get(`http://localhost:5000/user/${r}`).then((e=>{o(e.data),I(e.data.deleteRequest),w({firstName:e.data.firstName||"",lastName:e.data.lastName||"",email:e.data.email||"",phone:e.data.phone||"",weight:e.data.weight||""})})).catch((e=>{console.error("Error fetching user:",e)}))}catch(r){console.error("Error decoding token:",r)}else console.error("No token found")}),[]);const D=(0,v.jsxs)(n.A,{component:"aside",sx:{width:{xs:250,sm:320},minHeight:"100vh",backgroundImage:`url(${A})`,backgroundColor:"rgba(34, 69, 98, 0.92)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",py:4,boxShadow:4},children:[(0,v.jsx)(n.A,{sx:{mb:3},children:(0,v.jsx)("img",{src:y,alt:"Logo",style:{width:120,borderRadius:12,marginTop:80}})}),(0,v.jsx)(i.A,{variant:"h5",sx:{fontWeight:"bold",letterSpacing:2,mb:4,color:"#fff",textShadow:"0 2px 8px rgba(0,0,0,0.25)"},children:"Maxxies"}),(0,v.jsx)(n.A,{sx:{width:"90%"},children:k.map((e=>(0,v.jsx)(s.A,{variant:"contained",color:e.color,fullWidth:!0,startIcon:e.icon,sx:{mb:2,minHeight:56,borderRadius:3,fontWeight:"bold",fontSize:17,justifyContent:"flex-start",boxShadow:"0 2px 12px 0 rgba(0,0,0,0.08)",backgroundColor:"rgba(255, 255, 255, 0.4)",color:"#fff","&:hover":{backgroundColor:"rgba(255,255,255,0.18)",color:"#fff",boxShadow:"0 4px 16px 0 rgba(0,0,0,0.12)"}},onClick:()=>{z(e.route),H&&R(!1)},children:e.text},e.text)))})]});return(0,v.jsxs)(n.A,{sx:{minHeight:"100vh",minWidth:"100vw",m:0,p:0,display:"flex",flexDirection:"row",backgroundImage:`url(${A})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",overflow:"hidden"},children:[H?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.A,{onClick:()=>R(!0),sx:{position:"absolute",top:18,left:18,zIndex:1301,bgcolor:"rgba(34,69,98,0.92)",color:"#fff",boxShadow:2,"&:hover":{bgcolor:"rgba(34,69,98,1)"}},children:(0,v.jsx)(h.A,{fontSize:"large"})}),(0,v.jsxs)(c.Ay,{anchor:"left",open:P,onClose:()=>R(!1),PaperProps:{sx:{backgroundImage:`url(${A})`,backgroundColor:"rgba(1, 21, 37, 0.92)",backgroundSize:"cover",backgroundPosition:"center",color:"#fff"}},children:[(0,v.jsx)(n.A,{sx:{display:"flex",justifyContent:"flex-end",p:1},children:(0,v.jsx)(l.A,{onClick:()=>R(!1),sx:{color:"#fff"},children:(0,v.jsx)(b.A,{})})}),D]})]}):D,(0,v.jsx)(n.A,{sx:{flex:1,minHeight:"100vh",display:"flex",alignItems:"flex-start",justifyContent:"center",px:{xs:1,sm:6},py:6},children:(0,v.jsxs)(d.A,{elevation:10,sx:{width:"100%",maxWidth:"100%",bgcolor:"rgba(255,255,255,0.85)",borderRadius:5,boxShadow:10,p:{xs:2,sm:5},mt:{xs:2,sm:0}},children:[(0,v.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,v.jsx)(s.A,{startIcon:(0,v.jsx)(g.A,{}),variant:"outlined",color:"primary",onClick:()=>z(-1),sx:{borderRadius:2,fontWeight:"bold",px:2,bgcolor:"rgba(34,69,98,0.08)","&:hover":{bgcolor:"rgba(34,69,98,0.18)"}},children:"Back"}),(0,v.jsx)(i.A,{variant:"h5",sx:{fontWeight:"bold",color:"#224562",letterSpacing:1,textShadow:"0 2px 8px rgba(0,0,0,0.10)"},children:"Profile"})]}),(0,v.jsxs)(n.A,{sx:{display:"flex",gap:2,mb:3},children:[(0,v.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>C?z("/payment-history",{state:{userId:C}}):alert("User ID not found."),children:"View Payment History"}),(0,v.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>z("/paymentpage"),children:"Make a Payment"})]}),r?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.A,{label:"First Name",fullWidth:!0,margin:"normal",value:S.firstName,onChange:e=>w({...S,firstName:e.target.value}),sx:{bgcolor:"#f5f8ff",borderRadius:2,mb:2}}),(0,v.jsx)(x.A,{label:"Last Name",fullWidth:!0,margin:"normal",value:S.lastName,onChange:e=>w({...S,lastName:e.target.value}),sx:{bgcolor:"#f5f8ff",borderRadius:2,mb:2}}),(0,v.jsx)(x.A,{label:"Email",fullWidth:!0,margin:"normal",value:S.email,onChange:e=>w({...S,email:e.target.value}),sx:{bgcolor:"#f5f8ff",borderRadius:2,mb:2}}),(0,v.jsx)(x.A,{label:"Phone Number",fullWidth:!0,margin:"normal",value:S.phone,onChange:e=>w({...S,phone:e.target.value}),sx:{bgcolor:"#f5f8ff",borderRadius:2,mb:2}}),(0,v.jsx)(x.A,{label:"Weight",fullWidth:!0,margin:"normal",value:S.weight,onChange:e=>w({...S,weight:e.target.value}),sx:{bgcolor:"#f5f8ff",borderRadius:2,mb:2}}),(0,v.jsxs)(n.A,{mt:2,display:"flex",gap:2,children:[(0,v.jsx)(s.A,{variant:"contained",color:"primary",onClick:async()=>{if(C)try{const e=await p.A.put(`http://localhost:5000/user/${C}`,S);o(e.data),m(!1)}catch(e){console.error("Error updating user:",e)}},sx:{fontWeight:"bold",borderRadius:2,px:4,boxShadow:"0 2px 8px 0 rgba(34,69,98,0.09)"},children:"Save"}),(0,v.jsx)(s.A,{variant:"outlined",color:"secondary",onClick:()=>m(!1),sx:{fontWeight:"bold",borderRadius:2,px:4},children:"Cancel"})]})]}):e&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Name:"})," ",e.firstName," ",e.lastName]}),(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Phone number:"})," ",e.phone]}),(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Height:"})," ",e.height]}),(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Weight:"})," ",e.weight]}),(0,v.jsxs)(i.A,{variant:"body1",sx:{mb:1},children:[(0,v.jsx)("strong",{children:"Membership Plan:"})," ",e.selectedPlanName?e.selectedPlanName:"No Plan Selected"]}),(0,v.jsxs)(n.A,{mt:2,display:"flex",gap:2,children:[(0,v.jsx)(s.A,{variant:"contained",color:"primary",onClick:()=>m(!0),sx:{fontWeight:"bold",borderRadius:2,px:4,boxShadow:"0 2px 8px 0 rgba(34,69,98,0.09)"},children:"Edit Profile"}),W?(0,v.jsx)(s.A,{variant:"contained",disabled:!0,sx:{fontWeight:"bold",borderRadius:2,px:4},children:"Requested"}):(0,v.jsx)(s.A,{variant:"contained",color:"error",onClick:async()=>{if(C)try{await p.A.put(`http://localhost:5000/user/request-delete/${C}`),I(!0),alert("Delete request sent to admin.")}catch(e){console.error("Error requesting account deletion:",e)}},sx:{fontWeight:"bold",borderRadius:2,px:4},children:"Delete Account"})]})]})]})})]})}}}]);
//# sourceMappingURL=852.6138d85d.chunk.js.map